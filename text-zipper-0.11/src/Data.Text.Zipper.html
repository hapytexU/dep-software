<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | This module provides a two-dimensional text zipper data structure.</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- This structure represents a body of text and an editing cursor</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- which can be moved throughout the text, along with a set of editing</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- transformations.</span><span>
</span><span id="line-5"></span><span class="hs-comment">--</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Text zippers are generalized over the set of data types that might be</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- used to store lists of characters (e.g., 'String', 'T.Text', etc.).</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- As a result, the most general way to create a text zipper is to use</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- 'mkZipper' and provide all of the functions required to manipulate</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- the underlying text data.</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Implementations using 'T.Text' and 'String' are provided.</span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.Text.Zipper</span><span>
</span><span id="line-14"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier">TextZipper</span></a></span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Construction and extraction</span></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#mkZipper"><span class="hs-identifier">mkZipper</span></a></span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#textZipper"><span class="hs-identifier">textZipper</span></a></span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#stringZipper"><span class="hs-identifier">stringZipper</span></a></span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#clearZipper"><span class="hs-identifier">clearZipper</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#vectorZipper"><span class="hs-identifier">vectorZipper</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#getText"><span class="hs-identifier">getText</span></a></span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier">currentLine</span></a></span><span>
</span><span id="line-24"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#cursorPosition"><span class="hs-identifier">cursorPosition</span></a></span><span>
</span><span id="line-25"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#lineLengths"><span class="hs-identifier">lineLengths</span></a></span><span>
</span><span id="line-26"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#getLineLimit"><span class="hs-identifier">getLineLimit</span></a></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Navigation functions</span></span><span>
</span><span id="line-29"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#moveCursor"><span class="hs-identifier">moveCursor</span></a></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#moveRight"><span class="hs-identifier">moveRight</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#moveLeft"><span class="hs-identifier">moveLeft</span></a></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#moveUp"><span class="hs-identifier">moveUp</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#moveDown"><span class="hs-identifier">moveDown</span></a></span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#gotoEOL"><span class="hs-identifier">gotoEOL</span></a></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#gotoBOL"><span class="hs-identifier">gotoBOL</span></a></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#gotoEOF"><span class="hs-identifier">gotoEOF</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#gotoBOF"><span class="hs-identifier">gotoBOF</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Inspection functions</span></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#currentChar"><span class="hs-identifier">currentChar</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#nextChar"><span class="hs-identifier">nextChar</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#previousChar"><span class="hs-identifier">previousChar</span></a></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Editing functions</span></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#insertChar"><span class="hs-identifier">insertChar</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#insertMany"><span class="hs-identifier">insertMany</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#deletePrevChar"><span class="hs-identifier">deletePrevChar</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#deleteChar"><span class="hs-identifier">deleteChar</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#breakLine"><span class="hs-identifier">breakLine</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#killToEOL"><span class="hs-identifier">killToEOL</span></a></span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#killToBOL"><span class="hs-identifier">killToBOL</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#killToEOF"><span class="hs-identifier">killToEOF</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#killToBOF"><span class="hs-identifier">killToBOF</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#transposeChars"><span class="hs-identifier">transposeChars</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">where</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;$&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isPrint</span></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Vector</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Data.Text.Zipper.Vector.html"><span class="hs-identifier">Data.Text.Zipper.Vector</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">V</span></span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-keyword">data</span><span> </span><span id="TextZipper"><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-var">TextZipper</span></a></span></span><span> </span><span id="local-6989586621679056974"><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-67"></span><span>    </span><span id="TZ"><span class="annot"><a href="Data.Text.Zipper.html#TZ"><span class="hs-identifier hs-var">TZ</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="toLeft"><span class="annot"><span class="annottext">TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-68"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="toRight"><span class="annot"><span class="annottext">TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-69"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="above"><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-70"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="below"><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-71"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="fromChar"><span class="annot"><span class="annottext">TextZipper a -&gt; Char -&gt; a
</span><a href="Data.Text.Zipper.html#fromChar"><span class="hs-identifier hs-var hs-var">fromChar</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-72"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="drop_"><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#drop_"><span class="hs-identifier hs-var hs-var">drop_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-73"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="take_"><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#take_"><span class="hs-identifier hs-var hs-var">take_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-74"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="length_"><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-75"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="last_"><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Char
</span><a href="Data.Text.Zipper.html#last_"><span class="hs-identifier hs-var hs-var">last_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-76"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="init_"><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#init_"><span class="hs-identifier hs-var hs-var">init_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-77"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="null_"><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-78"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="lines_"><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; [a]
</span><a href="Data.Text.Zipper.html#lines_"><span class="hs-identifier hs-var hs-var">lines_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-79"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="toList_"><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; [Char]
</span><a href="Data.Text.Zipper.html#toList_"><span class="hs-identifier hs-var hs-var">toList_</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679056974"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span class="hs-special">]</span><span>
</span><span id="line-80"></span><span>       </span><span class="hs-special">,</span><span> </span><span id="lineLimit"><span class="annot"><span class="annottext">TextZipper a -&gt; Maybe Int
</span><a href="Data.Text.Zipper.html#lineLimit"><span class="hs-identifier hs-var hs-var">lineLimit</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-81"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span id="local-6989586621679056832"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="annot"><a href="#local-6989586621679056832"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NFData</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056832"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-84"></span><span>    </span><span id="local-6989586621679056829"><span class="annot"><span class="annottext">rnf :: TextZipper a -&gt; ()
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">rnf</span></span></span><span> </span><span id="local-6989586621679056827"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056827"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056827"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a b. NFData a =&gt; a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`deepseq`</span></span><span>
</span><span id="line-85"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056827"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a b. NFData a =&gt; a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`deepseq`</span></span><span>
</span><span id="line-86"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056827"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; [a]
forall a b. NFData a =&gt; a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`deepseq`</span></span><span>
</span><span id="line-87"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056827"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; () -&gt; ()
forall a b. NFData a =&gt; a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`deepseq`</span></span><span>
</span><span id="line-88"></span><span>            </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-comment">-- | Get the line limit, if any, for a zipper.</span><span>
</span><span id="line-91"></span><span id="local-6989586621679056825"><span class="annot"><a href="Data.Text.Zipper.html#getLineLimit"><span class="hs-identifier hs-type">getLineLimit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056825"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-92"></span><span id="getLineLimit"><span class="annot"><span class="annottext">getLineLimit :: TextZipper a -&gt; Maybe Int
</span><a href="Data.Text.Zipper.html#getLineLimit"><span class="hs-identifier hs-var hs-var">getLineLimit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Maybe Int
forall a. TextZipper a -&gt; Maybe Int
</span><a href="Data.Text.Zipper.html#lineLimit"><span class="hs-identifier hs-var hs-var">lineLimit</span></a></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span id="local-6989586621679056824"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679056821"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679056824"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056824"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-95"></span><span>    </span><span id="local-6989586621679056819"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056819"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679056818"><span class="annot"><span class="annottext">== :: TextZipper a -&gt; TextZipper a -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span id="local-6989586621679056817"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056817"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Bool
forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><span class="hs-identifier hs-var">and</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056819"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056817"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-96"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056819"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056817"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-97"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056819"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056817"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-98"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056819"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056817"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-99"></span><span>                 </span><span class="hs-special">]</span></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span id="local-6989586621679056815"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679056810"><span id="local-6989586621679056813"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679056815"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056815"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-102"></span><span>    </span><span id="local-6989586621679056808"><span class="annot"><span class="annottext">show :: TextZipper a -&gt; [Char]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span id="local-6989586621679056806"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056806"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;TextZipper { &quot;</span></span><span>
</span><span id="line-103"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;above = &quot;</span></span><span>
</span><span id="line-104"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [Char]) -&gt; [a] -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056806"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-105"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, below = &quot;</span></span><span>
</span><span id="line-106"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [Char]) -&gt; [a] -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056806"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-107"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, toLeft = &quot;</span></span><span>
</span><span id="line-108"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; [Char]) -&gt; a -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056806"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-109"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, toRight = &quot;</span></span><span>
</span><span id="line-110"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; [Char]) -&gt; a -&gt; [Char]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056806"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-111"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; }&quot;</span></span><span>
</span><span id="line-112"></span><span>                     </span><span class="hs-special">]</span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">-- | Create a zipper using a custom text storage type. Takes the initial</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- text as well as all of the functions necessary to manipulate the</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- underlying text values.</span><span>
</span><span id="line-117"></span><span id="local-6989586621679056892"><span class="annot"><a href="Data.Text.Zipper.html#mkZipper"><span class="hs-identifier hs-type">mkZipper</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-118"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>         </span><span class="hs-comment">-- ^A singleton constructor.</span><span>
</span><span id="line-120"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>         </span><span class="hs-comment">-- ^'drop'.</span><span>
</span><span id="line-122"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>         </span><span class="hs-comment">-- ^'take'.</span><span>
</span><span id="line-124"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>         </span><span class="hs-comment">-- ^'length'.</span><span>
</span><span id="line-126"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>         </span><span class="hs-comment">-- ^'last'.</span><span>
</span><span id="line-128"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>         </span><span class="hs-comment">-- ^'init'.</span><span>
</span><span id="line-130"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>         </span><span class="hs-comment">-- ^'null'.</span><span>
</span><span id="line-132"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>         </span><span class="hs-comment">-- ^'lines'.</span><span>
</span><span id="line-134"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>         </span><span class="hs-comment">-- ^'toList'.</span><span>
</span><span id="line-136"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-137"></span><span>         </span><span class="hs-comment">-- ^The initial lines of text.</span><span>
</span><span id="line-138"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-139"></span><span>         </span><span class="hs-comment">-- ^Limit to this many lines of text ('Nothing' means no limit).</span><span>
</span><span id="line-140"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056892"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-141"></span><span id="mkZipper"><span class="annot"><span class="annottext">mkZipper :: (Char -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; Char)
-&gt; (a -&gt; a)
-&gt; (a -&gt; Bool)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; [Char])
-&gt; [a]
-&gt; Maybe Int
-&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#mkZipper"><span class="hs-identifier hs-var hs-var">mkZipper</span></a></span></span><span> </span><span id="local-6989586621679056804"><span class="annot"><span class="annottext">Char -&gt; a
</span><a href="#local-6989586621679056804"><span class="hs-identifier hs-var">fromCh</span></a></span></span><span> </span><span id="local-6989586621679056803"><span class="annot"><span class="annottext">Int -&gt; a -&gt; a
</span><a href="#local-6989586621679056803"><span class="hs-identifier hs-var">drp</span></a></span></span><span> </span><span id="local-6989586621679056802"><span class="annot"><span class="annottext">Int -&gt; a -&gt; a
</span><a href="#local-6989586621679056802"><span class="hs-identifier hs-var">tk</span></a></span></span><span> </span><span id="local-6989586621679056801"><span class="annot"><span class="annottext">a -&gt; Int
</span><a href="#local-6989586621679056801"><span class="hs-identifier hs-var">lngth</span></a></span></span><span> </span><span id="local-6989586621679056800"><span class="annot"><span class="annottext">a -&gt; Char
</span><a href="#local-6989586621679056800"><span class="hs-identifier hs-var">lst</span></a></span></span><span> </span><span id="local-6989586621679056799"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679056799"><span class="hs-identifier hs-var">int</span></a></span></span><span> </span><span id="local-6989586621679056798"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679056798"><span class="hs-identifier hs-var">nl</span></a></span></span><span> </span><span id="local-6989586621679056797"><span class="annot"><span class="annottext">a -&gt; [a]
</span><a href="#local-6989586621679056797"><span class="hs-identifier hs-var">linesFunc</span></a></span></span><span> </span><span id="local-6989586621679056796"><span class="annot"><span class="annottext">a -&gt; [Char]
</span><a href="#local-6989586621679056796"><span class="hs-identifier hs-var">toListF</span></a></span></span><span> </span><span id="local-6989586621679056795"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056795"><span class="hs-identifier hs-var">ls</span></a></span></span><span> </span><span id="local-6989586621679056794"><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679056794"><span class="hs-identifier hs-var">lmt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679056793"><span class="annot"><span class="annottext">limitedLs :: [a]
</span><a href="#local-6989586621679056793"><span class="hs-identifier hs-var hs-var">limitedLs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679056794"><span class="hs-identifier hs-var">lmt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-143"></span><span>          </span><span class="annot"><span class="annottext">Maybe Int
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056795"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-144"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679056792"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056792"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [a] -&gt; [a]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056792"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056795"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-145"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679056790"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056790"><span class="hs-identifier hs-var">first</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679056789"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056789"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056793"><span class="hs-identifier hs-var">limitedLs</span></a></span><span>
</span><span id="line-146"></span><span>                        </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a]
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>                        </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056793"><span class="hs-identifier hs-var">limitedLs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">tail</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056793"><span class="hs-identifier hs-var">limitedLs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">a
-&gt; a
-&gt; [a]
-&gt; [a]
-&gt; (Char -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; Char)
-&gt; (a -&gt; a)
-&gt; (a -&gt; Bool)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; [Char])
-&gt; Maybe Int
-&gt; TextZipper a
forall a.
a
-&gt; a
-&gt; [a]
-&gt; [a]
-&gt; (Char -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; Char)
-&gt; (a -&gt; a)
-&gt; (a -&gt; Bool)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; [Char])
-&gt; Maybe Int
-&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#TZ"><span class="hs-identifier hs-var">TZ</span></a></span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056790"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056789"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; a
</span><a href="#local-6989586621679056804"><span class="hs-identifier hs-var">fromCh</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; a -&gt; a
</span><a href="#local-6989586621679056803"><span class="hs-identifier hs-var">drp</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; a -&gt; a
</span><a href="#local-6989586621679056802"><span class="hs-identifier hs-var">tk</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int
</span><a href="#local-6989586621679056801"><span class="hs-identifier hs-var">lngth</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Char
</span><a href="#local-6989586621679056800"><span class="hs-identifier hs-var">lst</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679056799"><span class="hs-identifier hs-var">int</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679056798"><span class="hs-identifier hs-var">nl</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a]
</span><a href="#local-6989586621679056797"><span class="hs-identifier hs-var">linesFunc</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [Char]
</span><a href="#local-6989586621679056796"><span class="hs-identifier hs-var">toListF</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679056794"><span class="hs-identifier hs-var">lmt</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">-- | Get the text contents of the zipper.</span><span>
</span><span id="line-151"></span><span id="local-6989586621679056942"><span class="annot"><a href="Data.Text.Zipper.html#getText"><span class="hs-identifier hs-type">getText</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056942"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056942"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679056942"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-152"></span><span id="getText"><span class="annot"><span class="annottext">getText :: TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#getText"><span class="hs-identifier hs-var hs-var">getText</span></a></span></span><span> </span><span id="local-6989586621679056785"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056785"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[a]] -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056785"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-153"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. Monoid a =&gt; TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-var">currentLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056785"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-154"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056785"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-155"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-comment">-- | Return the lengths of the lines in the zipper.</span><span>
</span><span id="line-158"></span><span id="local-6989586621679056784"><span class="annot"><a href="Data.Text.Zipper.html#lineLengths"><span class="hs-identifier hs-type">lineLengths</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056784"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056784"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">]</span></span><span>
</span><span id="line-159"></span><span id="lineLengths"><span class="annot"><span class="annottext">lineLengths :: TextZipper a -&gt; [Int]
</span><a href="Data.Text.Zipper.html#lineLengths"><span class="hs-identifier hs-var hs-var">lineLengths</span></a></span></span><span> </span><span id="local-6989586621679056783"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056783"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056783"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Int) -&gt; [a] -&gt; [Int]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[[a]] -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056783"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-160"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. Monoid a =&gt; TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-var">currentLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056783"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-161"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056783"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-162"></span><span>                                         </span><span class="hs-special">]</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-comment">-- | Get the cursor position of the zipper; returns @(row, col)@.</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- @row@ ranges from @[0..num_rows-1]@ inclusive; @col@ ranges from</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- @[0..length of current line]@ inclusive. Column values equal to line</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- width indicate a cursor that is just past the end of a line of text.</span><span>
</span><span id="line-168"></span><span id="local-6989586621679056904"><span class="annot"><a href="Data.Text.Zipper.html#cursorPosition"><span class="hs-identifier hs-type">cursorPosition</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056904"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-169"></span><span id="cursorPosition"><span class="annot"><span class="annottext">cursorPosition :: TextZipper a -&gt; (Int, Int)
</span><a href="Data.Text.Zipper.html#cursorPosition"><span class="hs-identifier hs-var hs-var">cursorPosition</span></a></span></span><span> </span><span id="local-6989586621679056782"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056782"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Int) -&gt; [a] -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056782"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056782"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Int) -&gt; a -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056782"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="hs-comment">-- | Move the cursor to the specified row and column. Invalid cursor</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- positions will be ignored. Valid cursor positions range as described</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- for 'cursorPosition'.</span><span>
</span><span id="line-174"></span><span id="local-6989586621679056780"><span class="annot"><a href="Data.Text.Zipper.html#moveCursor"><span class="hs-identifier hs-type">moveCursor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056780"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056780"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056780"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-175"></span><span id="moveCursor"><span class="annot"><span class="annottext">moveCursor :: (Int, Int) -&gt; TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#moveCursor"><span class="hs-identifier hs-var hs-var">moveCursor</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679056779"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056779"><span class="hs-identifier hs-var">row</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679056778"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056778"><span class="hs-identifier hs-var">col</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679056777"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056777"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-176"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679056776"><span class="annot"><span class="annottext">t :: [a]
</span><a href="#local-6989586621679056776"><span class="hs-identifier hs-var hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. Monoid a =&gt; TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#getText"><span class="hs-identifier hs-var">getText</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056777"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056779"><span class="hs-identifier hs-var">row</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-178"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056779"><span class="hs-identifier hs-var">row</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056776"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-179"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056778"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-180"></span><span>           </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056778"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056777"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056776"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Int -&gt; a
forall a. [a] -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056779"><span class="hs-identifier hs-var">row</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>       </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056777"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-182"></span><span>       </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056777"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [a] -&gt; [a]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056779"><span class="hs-identifier hs-var">row</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056776"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-183"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [a] -&gt; [a]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056779"><span class="hs-identifier hs-var">row</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056776"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-184"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#take_"><span class="hs-identifier hs-var hs-var">take_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056777"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056778"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056776"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Int -&gt; a
forall a. [a] -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056779"><span class="hs-identifier hs-var">row</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#drop_"><span class="hs-identifier hs-var hs-var">drop_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056777"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056778"><span class="hs-identifier hs-var">col</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056776"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Int -&gt; a
forall a. [a] -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">!!</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056779"><span class="hs-identifier hs-var">row</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>               </span><span class="hs-special">}</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span id="local-6989586621679056896"><span class="annot"><a href="Data.Text.Zipper.html#isFirstLine"><span class="hs-identifier hs-type">isFirstLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056896"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-189"></span><span id="isFirstLine"><span class="annot"><span class="annottext">isFirstLine :: TextZipper a -&gt; Bool
</span><a href="Data.Text.Zipper.html#isFirstLine"><span class="hs-identifier hs-var hs-var">isFirstLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Bool) -&gt; (TextZipper a -&gt; [a]) -&gt; TextZipper a -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span id="local-6989586621679056767"><span class="annot"><a href="Data.Text.Zipper.html#isLastLine"><span class="hs-identifier hs-type">isLastLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056767"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-192"></span><span id="isLastLine"><span class="annot"><span class="annottext">isLastLine :: TextZipper a -&gt; Bool
</span><a href="Data.Text.Zipper.html#isLastLine"><span class="hs-identifier hs-var hs-var">isLastLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; (TextZipper a -&gt; Int) -&gt; TextZipper a -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Int) -&gt; (TextZipper a -&gt; [a]) -&gt; TextZipper a -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span id="local-6989586621679056765"><span class="annot"><a href="Data.Text.Zipper.html#nextLine"><span class="hs-identifier hs-type">nextLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056765"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056765"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-195"></span><span id="nextLine"><span class="annot"><span class="annottext">nextLine :: TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#nextLine"><span class="hs-identifier hs-var hs-var">nextLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; (TextZipper a -&gt; [a]) -&gt; TextZipper a -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-comment">-- | The line of text on which the zipper's cursor currently resides.</span><span>
</span><span id="line-198"></span><span id="local-6989586621679056950"><span class="annot"><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-type">currentLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056950"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056950"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056950"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-199"></span><span id="currentLine"><span class="annot"><span class="annottext">currentLine :: TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-var hs-var">currentLine</span></a></span></span><span> </span><span id="local-6989586621679056763"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056763"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056763"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056763"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">-- | Insert a character at the current cursor position.</span><span>
</span><span id="line-202"></span><span class="hs-comment">--</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- If the character is a newline, break the current line.</span><span>
</span><span id="line-204"></span><span class="hs-comment">--</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- If the character is non-printable, ignore it.</span><span>
</span><span id="line-206"></span><span class="hs-comment">--</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- Otherwise insert the character and move the cursor one position to</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- the right.</span><span>
</span><span id="line-209"></span><span id="local-6989586621679056762"><span class="annot"><a href="Data.Text.Zipper.html#insertChar"><span class="hs-identifier hs-type">insertChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056762"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056762"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056762"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-210"></span><span id="insertChar"><span class="annot"><span class="annottext">insertChar :: Char -&gt; TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#insertChar"><span class="hs-identifier hs-var hs-var">insertChar</span></a></span></span><span> </span><span id="local-6989586621679056761"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679056761"><span class="hs-identifier hs-var">ch</span></a></span></span><span> </span><span id="local-6989586621679056760"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056760"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
-&gt; (TextZipper a -&gt; TextZipper a)
-&gt; Maybe (TextZipper a)
-&gt; TextZipper a
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056760"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; TextZipper a
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (TextZipper a) -&gt; TextZipper a)
-&gt; Maybe (TextZipper a) -&gt; TextZipper a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; TextZipper a -&gt; Maybe (TextZipper a)
forall a. Monoid a =&gt; Char -&gt; TextZipper a -&gt; Maybe (TextZipper a)
</span><a href="Data.Text.Zipper.html#insertChar_"><span class="hs-identifier hs-var">insertChar_</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679056761"><span class="hs-identifier hs-var">ch</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056760"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span id="local-6989586621679056927"><span class="annot"><a href="Data.Text.Zipper.html#insertChar_"><span class="hs-identifier hs-type">insertChar_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056927"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056927"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056927"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-213"></span><span id="insertChar_"><span class="annot"><span class="annottext">insertChar_ :: Char -&gt; TextZipper a -&gt; Maybe (TextZipper a)
</span><a href="Data.Text.Zipper.html#insertChar_"><span class="hs-identifier hs-var hs-var">insertChar_</span></a></span></span><span> </span><span id="local-6989586621679056756"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679056756"><span class="hs-identifier hs-var">ch</span></a></span></span><span> </span><span id="local-6989586621679056755"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056755"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-214"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679056756"><span class="hs-identifier hs-var">ch</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Maybe (TextZipper a)
forall a. Monoid a =&gt; TextZipper a -&gt; Maybe (TextZipper a)
</span><a href="Data.Text.Zipper.html#breakLine_"><span class="hs-identifier hs-var">breakLine_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056755"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-215"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isPrint</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679056756"><span class="hs-identifier hs-var">ch</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Maybe (TextZipper a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(TextZipper a -&gt; Maybe (TextZipper a))
-&gt; TextZipper a -&gt; Maybe (TextZipper a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056755"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056755"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; Char -&gt; a
forall a. TextZipper a -&gt; Char -&gt; a
</span><a href="Data.Text.Zipper.html#fromChar"><span class="hs-identifier hs-var hs-var">fromChar</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056755"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679056756"><span class="hs-identifier hs-var">ch</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-216"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (TextZipper a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- | Insert many characters at the current cursor position. Move the</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- cursor to the end of the inserted text.</span><span>
</span><span id="line-220"></span><span id="local-6989586621679056753"><span class="annot"><a href="Data.Text.Zipper.html#insertMany"><span class="hs-identifier hs-type">insertMany</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056753"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679056753"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056753"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056753"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-221"></span><span id="insertMany"><span class="annot"><span class="annottext">insertMany :: a -&gt; TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#insertMany"><span class="hs-identifier hs-var hs-var">insertMany</span></a></span></span><span> </span><span id="local-6989586621679056752"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056752"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621679056751"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056751"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679056750"><span class="annot"><span class="annottext">go :: [Char] -&gt; TextZipper a -&gt; TextZipper a
</span><a href="#local-6989586621679056750"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621679056749"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056749"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056749"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-223"></span><span>        </span><span class="annot"><a href="#local-6989586621679056750"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679056748"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679056748"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679056747"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679056747"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679056746"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056746"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
-&gt; (TextZipper a -&gt; TextZipper a)
-&gt; Maybe (TextZipper a)
-&gt; TextZipper a
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056746"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; TextZipper a -&gt; TextZipper a
</span><a href="#local-6989586621679056750"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679056747"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (TextZipper a) -&gt; TextZipper a)
-&gt; Maybe (TextZipper a) -&gt; TextZipper a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; TextZipper a -&gt; Maybe (TextZipper a)
forall a. Monoid a =&gt; Char -&gt; TextZipper a -&gt; Maybe (TextZipper a)
</span><a href="Data.Text.Zipper.html#insertChar_"><span class="hs-identifier hs-var">insertChar_</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679056748"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056746"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; TextZipper a -&gt; TextZipper a
forall a. Monoid a =&gt; [Char] -&gt; TextZipper a -&gt; TextZipper a
</span><a href="#local-6989586621679056750"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; [Char]
forall a. TextZipper a -&gt; a -&gt; [Char]
</span><a href="Data.Text.Zipper.html#toList_"><span class="hs-identifier hs-var hs-var">toList_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056751"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056752"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056751"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="hs-comment">-- | Insert a line break at the current cursor position.</span><span>
</span><span id="line-227"></span><span id="local-6989586621679056745"><span class="annot"><a href="Data.Text.Zipper.html#breakLine"><span class="hs-identifier hs-type">breakLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056745"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056745"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056745"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-228"></span><span id="breakLine"><span class="annot"><span class="annottext">breakLine :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#breakLine"><span class="hs-identifier hs-var hs-var">breakLine</span></a></span></span><span> </span><span id="local-6989586621679056744"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056744"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
-&gt; (TextZipper a -&gt; TextZipper a)
-&gt; Maybe (TextZipper a)
-&gt; TextZipper a
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056744"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; TextZipper a
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (TextZipper a) -&gt; TextZipper a)
-&gt; Maybe (TextZipper a) -&gt; TextZipper a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Maybe (TextZipper a)
forall a. Monoid a =&gt; TextZipper a -&gt; Maybe (TextZipper a)
</span><a href="Data.Text.Zipper.html#breakLine_"><span class="hs-identifier hs-var">breakLine_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056744"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span id="local-6989586621679056925"><span class="annot"><a href="Data.Text.Zipper.html#breakLine_"><span class="hs-identifier hs-type">breakLine_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056925"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056925"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056925"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-231"></span><span id="breakLine_"><span class="annot"><span class="annottext">breakLine_ :: TextZipper a -&gt; Maybe (TextZipper a)
</span><a href="Data.Text.Zipper.html#breakLine_"><span class="hs-identifier hs-var hs-var">breakLine_</span></a></span></span><span> </span><span id="local-6989586621679056743"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056743"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-232"></span><span>    </span><span class="hs-comment">-- Plus two because we count the current line and the line we are</span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-comment">-- about to create; if that number of lines exceeds the limit,</span><span>
</span><span id="line-234"></span><span>    </span><span class="hs-comment">-- ignore this operation.</span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679056742"><span class="annot"><span class="annottext">modified :: TextZipper a
</span><a href="#local-6989586621679056742"><span class="hs-identifier hs-var hs-var">modified</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056743"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056743"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; [a]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056743"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-236"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-237"></span><span>                      </span><span class="hs-special">}</span><span>
</span><span id="line-238"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Maybe Int
forall a. TextZipper a -&gt; Maybe Int
</span><a href="Data.Text.Zipper.html#lineLimit"><span class="hs-identifier hs-var hs-var">lineLimit</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056743"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-239"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679056741"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056741"><span class="hs-identifier hs-var">lim</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056743"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056743"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056741"><span class="hs-identifier hs-var">lim</span></a></span><span>
</span><span id="line-240"></span><span>                      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe (TextZipper a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-241"></span><span>                      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Maybe (TextZipper a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056742"><span class="hs-identifier hs-var">modified</span></a></span><span>
</span><span id="line-242"></span><span>          </span><span class="annot"><span class="annottext">Maybe Int
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Maybe (TextZipper a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056742"><span class="hs-identifier hs-var">modified</span></a></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- | Move the cursor to the end of the current line.</span><span>
</span><span id="line-245"></span><span id="local-6989586621679056740"><span class="annot"><a href="Data.Text.Zipper.html#gotoEOL"><span class="hs-identifier hs-type">gotoEOL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056740"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056740"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056740"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-246"></span><span id="gotoEOL"><span class="annot"><span class="annottext">gotoEOL :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#gotoEOL"><span class="hs-identifier hs-var hs-var">gotoEOL</span></a></span></span><span> </span><span id="local-6989586621679056739"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056739"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056739"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. Monoid a =&gt; TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-var">currentLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056739"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-247"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-248"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-comment">-- | Move the cursor to the end of a text zipper.</span><span>
</span><span id="line-251"></span><span id="local-6989586621679056738"><span class="annot"><a href="Data.Text.Zipper.html#gotoEOF"><span class="hs-identifier hs-type">gotoEOF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056738"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056738"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056738"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-252"></span><span id="gotoEOF"><span class="annot"><span class="annottext">gotoEOF :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#gotoEOF"><span class="hs-identifier hs-var hs-var">gotoEOF</span></a></span></span><span> </span><span id="local-6989586621679056737"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056737"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-253"></span><span>    </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056737"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056736"><span class="hs-identifier hs-var">end</span></a></span><span>
</span><span id="line-254"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-255"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056735"><span class="hs-identifier hs-var">top</span></a></span><span>
</span><span id="line-256"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a]
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-257"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-258"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-259"></span><span>       </span><span id="local-6989586621679056734"><span class="annot"><span class="annottext">tx :: [a]
</span><a href="#local-6989586621679056734"><span class="hs-identifier hs-var hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. Monoid a =&gt; TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#getText"><span class="hs-identifier hs-var">getText</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056737"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-260"></span><span>       </span><span class="hs-special">(</span><span id="local-6989586621679056735"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056735"><span class="hs-identifier hs-var">top</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679056736"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056736"><span class="hs-identifier hs-var">end</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056734"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-261"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a]
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056734"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056734"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span class="hs-comment">-- | Remove all text from the cursor position to the end of the current</span><span>
</span><span id="line-265"></span><span class="hs-comment">-- line. If the cursor is at the beginning of a line and the line is</span><span>
</span><span id="line-266"></span><span class="hs-comment">-- empty, the entire line will be removed.</span><span>
</span><span id="line-267"></span><span id="local-6989586621679056731"><span class="annot"><a href="Data.Text.Zipper.html#killToEOL"><span class="hs-identifier hs-type">killToEOL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056731"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056731"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056731"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-268"></span><span id="killToEOL"><span class="annot"><span class="annottext">killToEOL :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#killToEOL"><span class="hs-identifier hs-var hs-var">killToEOL</span></a></span></span><span> </span><span id="local-6989586621679056730"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056730"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-269"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
forall a. TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056730"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Bool) -&gt; a -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056730"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
forall a. TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056730"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Bool) -&gt; a -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056730"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-270"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Bool) -&gt; [a] -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056730"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-271"></span><span>          </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056730"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056730"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-272"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">tail</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056730"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-273"></span><span>             </span><span class="hs-special">}</span><span>
</span><span id="line-274"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056730"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-275"></span><span>                     </span><span class="hs-special">}</span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="hs-comment">-- | Remove all text from the cursor position to the beginning of the</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- current line.</span><span>
</span><span id="line-279"></span><span id="local-6989586621679056727"><span class="annot"><a href="Data.Text.Zipper.html#killToBOL"><span class="hs-identifier hs-type">killToBOL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056727"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056727"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056727"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-280"></span><span id="killToBOL"><span class="annot"><span class="annottext">killToBOL :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#killToBOL"><span class="hs-identifier hs-var hs-var">killToBOL</span></a></span></span><span> </span><span id="local-6989586621679056726"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056726"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056726"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-281"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-comment">-- | Remove all text from the cursor position to the end of the text</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- zipper. If the cursor is at the beginning of a line and the line is</span><span>
</span><span id="line-285"></span><span class="hs-comment">-- empty, the entire line will be removed.</span><span>
</span><span id="line-286"></span><span id="local-6989586621679056725"><span class="annot"><a href="Data.Text.Zipper.html#killToEOF"><span class="hs-identifier hs-type">killToEOF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056725"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056725"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056725"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-287"></span><span id="killToEOF"><span class="annot"><span class="annottext">killToEOF :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#killToEOF"><span class="hs-identifier hs-var hs-var">killToEOF</span></a></span></span><span> </span><span id="local-6989586621679056724"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056724"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-288"></span><span>    </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056724"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-289"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a]
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-290"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-comment">-- | Remove all text from the cursor position to the beginning of the</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- text zipper.</span><span>
</span><span id="line-294"></span><span id="local-6989586621679056723"><span class="annot"><a href="Data.Text.Zipper.html#killToBOF"><span class="hs-identifier hs-type">killToBOF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056723"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056723"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056723"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-295"></span><span id="killToBOF"><span class="annot"><span class="annottext">killToBOF :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#killToBOF"><span class="hs-identifier hs-var hs-var">killToBOF</span></a></span></span><span> </span><span id="local-6989586621679056722"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056722"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-296"></span><span>    </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056722"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-297"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a]
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-298"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span class="hs-comment">-- | Delete the character preceding the cursor position, and move the</span><span>
</span><span id="line-301"></span><span class="hs-comment">-- cursor backwards by one character.</span><span>
</span><span id="line-302"></span><span id="local-6989586621679056721"><span class="annot"><a href="Data.Text.Zipper.html#deletePrevChar"><span class="hs-identifier hs-type">deletePrevChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679056721"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056721"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056721"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056721"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-303"></span><span id="deletePrevChar"><span class="annot"><span class="annottext">deletePrevChar :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#deletePrevChar"><span class="hs-identifier hs-var hs-var">deletePrevChar</span></a></span></span><span> </span><span id="local-6989586621679056720"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056720"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-304"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; TextZipper a
forall a. Monoid a =&gt; TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#moveLeft"><span class="hs-identifier hs-var">moveLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056720"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; TextZipper a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056720"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056720"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-305"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; TextZipper a
forall a. Monoid a =&gt; TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#deleteChar"><span class="hs-identifier hs-var">deleteChar</span></a></span><span> </span><span class="annot"><span class="annottext">(TextZipper a -&gt; TextZipper a) -&gt; TextZipper a -&gt; TextZipper a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; TextZipper a
forall a. Monoid a =&gt; TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#moveLeft"><span class="hs-identifier hs-var">moveLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056720"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">-- | Delete the character at the cursor position. Leaves the cursor</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- position unchanged. If the cursor is at the end of a line of text,</span><span>
</span><span id="line-309"></span><span class="hs-comment">-- this combines the line with the line below.</span><span>
</span><span id="line-310"></span><span id="local-6989586621679056719"><span class="annot"><a href="Data.Text.Zipper.html#deleteChar"><span class="hs-identifier hs-type">deleteChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056719"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056719"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056719"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-311"></span><span id="deleteChar"><span class="annot"><span class="annottext">deleteChar :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#deleteChar"><span class="hs-identifier hs-var hs-var">deleteChar</span></a></span></span><span> </span><span id="local-6989586621679056718"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-312"></span><span>    </span><span class="hs-comment">-- Can we just remove a char from the current line?</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
forall a. TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-314"></span><span>        </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#drop_"><span class="hs-identifier hs-var hs-var">drop_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-315"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-comment">-- Do we need to collapse the previous line onto the current one?</span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
forall a. TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Bool) -&gt; [a] -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-318"></span><span>        </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-319"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">tail</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-320"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056718"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="hs-comment">-- | Get the Char on which the cursor currently resides. If the cursor</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- is at the end of the text or the text is empty return @Nothing@.</span><span>
</span><span id="line-325"></span><span id="local-6989586621679056908"><span class="annot"><a href="Data.Text.Zipper.html#currentChar"><span class="hs-identifier hs-type">currentChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056908"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span></span><span>
</span><span id="line-326"></span><span id="currentChar"><span class="annot"><span class="annottext">currentChar :: TextZipper a -&gt; Maybe Char
</span><a href="Data.Text.Zipper.html#currentChar"><span class="hs-identifier hs-var hs-var">currentChar</span></a></span></span><span> </span><span id="local-6989586621679056717"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056717"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
forall a. TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056717"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056717"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-328"></span><span>    </span><span class="annot"><span class="annottext">Char -&gt; Maybe Char
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Char
forall a. TextZipper a -&gt; a -&gt; Char
</span><a href="Data.Text.Zipper.html#last_"><span class="hs-identifier hs-var hs-var">last_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056717"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#take_"><span class="hs-identifier hs-var hs-var">take_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056717"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056717"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Char
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-comment">-- | Get the Char after the cursor position. If the cursor is at the end</span><span>
</span><span id="line-332"></span><span class="hs-comment">-- of a line return the first character of the next line, or if that one</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- is empty as well, return @Nothing@.</span><span>
</span><span id="line-334"></span><span id="local-6989586621679056716"><span class="annot"><a href="Data.Text.Zipper.html#nextChar"><span class="hs-identifier hs-type">nextChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056716"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056716"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span></span><span>
</span><span id="line-335"></span><span id="nextChar"><span class="annot"><span class="annottext">nextChar :: TextZipper a -&gt; Maybe Char
</span><a href="Data.Text.Zipper.html#nextChar"><span class="hs-identifier hs-var hs-var">nextChar</span></a></span></span><span> </span><span id="local-6989586621679056715"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056715"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Maybe Char
forall a. TextZipper a -&gt; Maybe Char
</span><a href="Data.Text.Zipper.html#currentChar"><span class="hs-identifier hs-var">currentChar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; TextZipper a
forall a. Monoid a =&gt; TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#moveRight"><span class="hs-identifier hs-var">moveRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056715"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="hs-comment">-- | Get the Char before the cursor position. If the cursor is at the</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- beginning of the text, return @Nothing@</span><span>
</span><span id="line-339"></span><span id="local-6989586621679056714"><span class="annot"><a href="Data.Text.Zipper.html#previousChar"><span class="hs-identifier hs-type">previousChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056714"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056714"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span></span><span>
</span><span id="line-340"></span><span id="previousChar"><span class="annot"><span class="annottext">previousChar :: TextZipper a -&gt; Maybe Char
</span><a href="Data.Text.Zipper.html#previousChar"><span class="hs-identifier hs-var hs-var">previousChar</span></a></span></span><span> </span><span id="local-6989586621679056713"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056713"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-341"></span><span>  </span><span class="hs-comment">-- Only return Nothing if we are at the beginning of a line and only empty</span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-comment">-- lines are above</span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Int, Int) -&gt; Int
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; (Int, Int)
forall a. TextZipper a -&gt; (Int, Int)
</span><a href="Data.Text.Zipper.html#cursorPosition"><span class="hs-identifier hs-var">cursorPosition</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056713"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Bool) -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
forall a. TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056713"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056713"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-344"></span><span>    </span><span class="annot"><span class="annottext">Maybe Char
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-346"></span><span>    </span><span class="annot"><span class="annottext">TextZipper a -&gt; Maybe Char
forall a. TextZipper a -&gt; Maybe Char
</span><a href="Data.Text.Zipper.html#currentChar"><span class="hs-identifier hs-var">currentChar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; TextZipper a
forall a. Monoid a =&gt; TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#moveLeft"><span class="hs-identifier hs-var">moveLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056713"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="hs-comment">-- | Move the cursor to the beginning of the current line.</span><span>
</span><span id="line-349"></span><span id="local-6989586621679056711"><span class="annot"><a href="Data.Text.Zipper.html#gotoBOL"><span class="hs-identifier hs-type">gotoBOL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056711"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056711"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056711"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-350"></span><span id="gotoBOL"><span class="annot"><span class="annottext">gotoBOL :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#gotoBOL"><span class="hs-identifier hs-var hs-var">gotoBOL</span></a></span></span><span> </span><span id="local-6989586621679056710"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056710"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056710"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-351"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. Monoid a =&gt; TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-var">currentLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056710"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-352"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span class="hs-comment">-- | Move the cursor to the beginning of a text zipper.</span><span>
</span><span id="line-355"></span><span id="local-6989586621679056709"><span class="annot"><a href="Data.Text.Zipper.html#gotoBOF"><span class="hs-identifier hs-type">gotoBOF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056709"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056709"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056709"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-356"></span><span id="gotoBOF"><span class="annot"><span class="annottext">gotoBOF :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#gotoBOF"><span class="hs-identifier hs-var hs-var">gotoBOF</span></a></span></span><span> </span><span id="local-6989586621679056708"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056708"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-357"></span><span>    </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056708"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-358"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056707"><span class="hs-identifier hs-var">first</span></a></span><span>
</span><span id="line-359"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a]
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-360"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056706"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-361"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-362"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-363"></span><span>        </span><span id="local-6989586621679056705"><span class="annot"><span class="annottext">tx :: [a]
</span><a href="#local-6989586621679056705"><span class="hs-identifier hs-var hs-var">tx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. Monoid a =&gt; TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#getText"><span class="hs-identifier hs-var">getText</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056708"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-364"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679056707"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056707"><span class="hs-identifier hs-var">first</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679056706"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056706"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056705"><span class="hs-identifier hs-var">tx</span></a></span><span>
</span><span id="line-365"></span><span>                        </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a]
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-366"></span><span>                        </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056705"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">tail</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679056705"><span class="hs-identifier hs-var">tx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-comment">-- | Move the cursor right by one position. If the cursor is at the end</span><span>
</span><span id="line-369"></span><span class="hs-comment">-- of a line, the cursor is moved to the first position of the following</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- line (if any).</span><span>
</span><span id="line-371"></span><span id="local-6989586621679056704"><span class="annot"><a href="Data.Text.Zipper.html#moveRight"><span class="hs-identifier hs-type">moveRight</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056704"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056704"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056704"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-372"></span><span id="moveRight"><span class="annot"><span class="annottext">moveRight :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#moveRight"><span class="hs-identifier hs-var hs-var">moveRight</span></a></span></span><span> </span><span id="local-6989586621679056703"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-373"></span><span>    </span><span class="hs-comment">-- Are we able to keep moving right on the current line?</span><span>
</span><span id="line-374"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
forall a. TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-375"></span><span>        </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-376"></span><span>                      </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#take_"><span class="hs-identifier hs-var hs-var">take_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#drop_"><span class="hs-identifier hs-var hs-var">drop_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-379"></span><span>    </span><span class="hs-comment">-- If we are going to go beyond the end of the current line, can</span><span>
</span><span id="line-380"></span><span>    </span><span class="hs-comment">-- we move to the next one?</span><span>
</span><span id="line-381"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-382"></span><span>        </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; [a]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-383"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">tail</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-384"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-385"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#nextLine"><span class="hs-identifier hs-var">nextLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-386"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-387"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056703"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-388"></span><span>
</span><span id="line-389"></span><span class="hs-comment">-- | Move the cursor left by one position. If the cursor is at the</span><span>
</span><span id="line-390"></span><span class="hs-comment">-- beginning of a line, the cursor is moved to the last position of the</span><span>
</span><span id="line-391"></span><span class="hs-comment">-- preceding line (if any).</span><span>
</span><span id="line-392"></span><span id="local-6989586621679056912"><span class="annot"><a href="Data.Text.Zipper.html#moveLeft"><span class="hs-identifier hs-type">moveLeft</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056912"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056912"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056912"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-393"></span><span id="moveLeft"><span class="annot"><span class="annottext">moveLeft :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#moveLeft"><span class="hs-identifier hs-var hs-var">moveLeft</span></a></span></span><span> </span><span id="local-6989586621679056702"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-comment">-- Are we able to keep moving left on the current line?</span><span>
</span><span id="line-395"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
forall a. TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-396"></span><span>        </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; a
forall a. TextZipper a -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#init_"><span class="hs-identifier hs-var hs-var">init_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-397"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Char -&gt; a
forall a. TextZipper a -&gt; Char -&gt; a
</span><a href="Data.Text.Zipper.html#fromChar"><span class="hs-identifier hs-var hs-var">fromChar</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Char
forall a. TextZipper a -&gt; a -&gt; Char
</span><a href="Data.Text.Zipper.html#last_"><span class="hs-identifier hs-var hs-var">last_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span>                       </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mappend`</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-399"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-400"></span><span>    </span><span class="hs-comment">-- If we are going to go beyond the beginning of the current line,</span><span>
</span><span id="line-401"></span><span>    </span><span class="hs-comment">-- can we move to the end of the previous one?</span><span>
</span><span id="line-402"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-403"></span><span>        </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-404"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. Monoid a =&gt; TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-var">currentLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-405"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-406"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-407"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-408"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056702"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span class="hs-comment">-- | Move the cursor up by one row. If there no are rows above the</span><span>
</span><span id="line-411"></span><span class="hs-comment">-- current one, move to the first position of the current row. If the</span><span>
</span><span id="line-412"></span><span class="hs-comment">-- row above is shorter, move to the end of that row.</span><span>
</span><span id="line-413"></span><span id="local-6989586621679056701"><span class="annot"><a href="Data.Text.Zipper.html#moveUp"><span class="hs-identifier hs-type">moveUp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056701"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056701"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056701"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-414"></span><span id="moveUp"><span class="annot"><span class="annottext">moveUp :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#moveUp"><span class="hs-identifier hs-var hs-var">moveUp</span></a></span></span><span> </span><span id="local-6989586621679056700"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-415"></span><span>    </span><span class="hs-comment">-- Is there a line above at least as long as the current one?</span><span>
</span><span id="line-416"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Bool
forall a. TextZipper a -&gt; Bool
</span><a href="Data.Text.Zipper.html#isFirstLine"><span class="hs-identifier hs-var">isFirstLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-417"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Int) -&gt; a -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-418"></span><span>        </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. Monoid a =&gt; TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-var">currentLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-419"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-420"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#take_"><span class="hs-identifier hs-var hs-var">take_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Int) -&gt; a -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#drop_"><span class="hs-identifier hs-var hs-var">drop_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Int) -&gt; a -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-422"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-423"></span><span>    </span><span class="hs-comment">-- Or if there is a line above, just go to the end of it</span><span>
</span><span id="line-424"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Bool
forall a. TextZipper a -&gt; Bool
</span><a href="Data.Text.Zipper.html#isFirstLine"><span class="hs-identifier hs-var">isFirstLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-425"></span><span>        </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-426"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. Monoid a =&gt; TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-var">currentLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-427"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; a
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; a) -&gt; [a] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-428"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-429"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-430"></span><span>    </span><span class="hs-comment">-- If nothing else, go to the beginning of the current line</span><span>
</span><span id="line-431"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; TextZipper a
forall a. Monoid a =&gt; TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#gotoBOL"><span class="hs-identifier hs-var">gotoBOL</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056700"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="hs-comment">-- | Move the cursor down by one row. If there are no rows below the</span><span>
</span><span id="line-434"></span><span class="hs-comment">-- current one, move to the last position of the current row. If the row</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- below is shorter, move to the end of that row.</span><span>
</span><span id="line-436"></span><span id="local-6989586621679056699"><span class="annot"><a href="Data.Text.Zipper.html#moveDown"><span class="hs-identifier hs-type">moveDown</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056699"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056699"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056699"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-437"></span><span id="moveDown"><span class="annot"><span class="annottext">moveDown :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#moveDown"><span class="hs-identifier hs-var hs-var">moveDown</span></a></span></span><span> </span><span id="local-6989586621679056698"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-438"></span><span>    </span><span class="hs-comment">-- Is there a line below at least as long as the current one?</span><span>
</span><span id="line-439"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Bool
forall a. TextZipper a -&gt; Bool
</span><a href="Data.Text.Zipper.html#isLastLine"><span class="hs-identifier hs-var">isLastLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span>
</span><span id="line-440"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Int) -&gt; a -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#nextLine"><span class="hs-identifier hs-var">nextLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-441"></span><span>        </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">tail</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-442"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; [a]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. Monoid a =&gt; TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-var">currentLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-443"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#take_"><span class="hs-identifier hs-var hs-var">take_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Int) -&gt; a -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#nextLine"><span class="hs-identifier hs-var">nextLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#drop_"><span class="hs-identifier hs-var hs-var">drop_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Int) -&gt; a -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#nextLine"><span class="hs-identifier hs-var">nextLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-446"></span><span>    </span><span class="hs-comment">-- Or if there is a line below, just go to the end of it</span><span>
</span><span id="line-447"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Bool
forall a. TextZipper a -&gt; Bool
</span><a href="Data.Text.Zipper.html#isLastLine"><span class="hs-identifier hs-var">isLastLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-448"></span><span>        </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var hs-var">above</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; [a]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. Monoid a =&gt; TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#currentLine"><span class="hs-identifier hs-var">currentLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-449"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">tail</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; [a] -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; [a]
forall a. TextZipper a -&gt; [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var hs-var">below</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-450"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#nextLine"><span class="hs-identifier hs-var">nextLine</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-451"></span><span>           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-452"></span><span>           </span><span class="hs-special">}</span><span>
</span><span id="line-453"></span><span>    </span><span class="hs-comment">-- If nothing else, go to the end of the current line</span><span>
</span><span id="line-454"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; TextZipper a
forall a. Monoid a =&gt; TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#gotoEOL"><span class="hs-identifier hs-var">gotoEOL</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056698"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-455"></span><span>
</span><span id="line-456"></span><span class="hs-comment">-- | Transpose the character before the cursor with the one at the</span><span>
</span><span id="line-457"></span><span class="hs-comment">-- cursor position and move the cursor one position to the right. If</span><span>
</span><span id="line-458"></span><span class="hs-comment">-- the cursor is at the end of the current line, transpose the current</span><span>
</span><span id="line-459"></span><span class="hs-comment">-- line's last two characters.</span><span>
</span><span id="line-460"></span><span id="local-6989586621679056697"><span class="annot"><a href="Data.Text.Zipper.html#transposeChars"><span class="hs-identifier hs-type">transposeChars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056697"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056697"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056697"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-461"></span><span id="transposeChars"><span class="annot"><span class="annottext">transposeChars :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#transposeChars"><span class="hs-identifier hs-var hs-var">transposeChars</span></a></span></span><span> </span><span id="local-6989586621679056696"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span></span><span>
</span><span id="line-462"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
forall a. TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-463"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Bool
forall a. TextZipper a -&gt; a -&gt; Bool
</span><a href="Data.Text.Zipper.html#null_"><span class="hs-identifier hs-var hs-var">null_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-464"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-465"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span>
</span><span id="line-466"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679056695"><span class="annot"><span class="annottext">prefixLen :: Int
</span><a href="#local-6989586621679056695"><span class="hs-identifier hs-var hs-var">prefixLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Int
forall a. TextZipper a -&gt; a -&gt; Int
</span><a href="Data.Text.Zipper.html#length_"><span class="hs-identifier hs-var hs-var">length_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-467"></span><span>                 </span><span id="local-6989586621679056694"><span class="annot"><span class="annottext">prefix :: a
</span><a href="#local-6989586621679056694"><span class="hs-identifier hs-var hs-var">prefix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#take_"><span class="hs-identifier hs-var hs-var">take_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056695"><span class="hs-identifier hs-var">prefixLen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span>                 </span><span id="local-6989586621679056693"><span class="annot"><span class="annottext">lastTwo :: a
</span><a href="#local-6989586621679056693"><span class="hs-identifier hs-var hs-var">lastTwo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#drop_"><span class="hs-identifier hs-var hs-var">drop_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679056695"><span class="hs-identifier hs-var">prefixLen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-469"></span><span>                 </span><span id="local-6989586621679056692"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679056692"><span class="hs-identifier hs-var hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#take_"><span class="hs-identifier hs-var hs-var">take_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056693"><span class="hs-identifier hs-var">lastTwo</span></a></span><span>
</span><span id="line-470"></span><span>                 </span><span id="local-6989586621679056691"><span class="annot"><span class="annottext">b :: a
</span><a href="#local-6989586621679056691"><span class="hs-identifier hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#drop_"><span class="hs-identifier hs-var hs-var">drop_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056693"><span class="hs-identifier hs-var">lastTwo</span></a></span><span>
</span><span id="line-471"></span><span>             </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056694"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056691"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679056692"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-472"></span><span>                   </span><span class="hs-special">}</span><span>
</span><span id="line-473"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; a
forall a. TextZipper a -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#init_"><span class="hs-identifier hs-var hs-var">init_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-474"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#take_"><span class="hs-identifier hs-var hs-var">take_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span>
</span><span id="line-475"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; Char -&gt; a
forall a. TextZipper a -&gt; Char -&gt; a
</span><a href="Data.Text.Zipper.html#fromChar"><span class="hs-identifier hs-var hs-var">fromChar</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; a) -&gt; Char -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a -&gt; Char
forall a. TextZipper a -&gt; a -&gt; Char
</span><a href="Data.Text.Zipper.html#last_"><span class="hs-identifier hs-var hs-var">last_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Char) -&gt; a -&gt; Char
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var hs-var">toLeft</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TextZipper a -&gt; Int -&gt; a -&gt; a
forall a. TextZipper a -&gt; Int -&gt; a -&gt; a
</span><a href="Data.Text.Zipper.html#drop_"><span class="hs-identifier hs-var hs-var">drop_</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a) -&gt; a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TextZipper a -&gt; a
forall a. TextZipper a -&gt; a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var hs-var">toRight</span></a></span><span> </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056696"><span class="hs-identifier hs-var">tz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>                     </span><span class="hs-special">}</span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span class="hs-comment">-- | Construct a zipper from list values.</span><span>
</span><span id="line-480"></span><span class="annot"><a href="Data.Text.Zipper.html#stringZipper"><span class="hs-identifier hs-type">stringZipper</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-481"></span><span id="stringZipper"><span class="annot"><span class="annottext">stringZipper :: [[Char]] -&gt; Maybe Int -&gt; TextZipper [Char]
</span><a href="Data.Text.Zipper.html#stringZipper"><span class="hs-identifier hs-var hs-var">stringZipper</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-482"></span><span>    </span><span class="annot"><span class="annottext">(Char -&gt; [Char])
-&gt; (Int -&gt; ShowS)
-&gt; (Int -&gt; ShowS)
-&gt; ([Char] -&gt; Int)
-&gt; ([Char] -&gt; Char)
-&gt; ShowS
-&gt; ([Char] -&gt; Bool)
-&gt; ([Char] -&gt; [[Char]])
-&gt; ShowS
-&gt; [[Char]]
-&gt; Maybe Int
-&gt; TextZipper [Char]
forall a.
Monoid a =&gt;
(Char -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; Char)
-&gt; (a -&gt; a)
-&gt; (a -&gt; Bool)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; [Char])
-&gt; [a]
-&gt; Maybe Int
-&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#mkZipper"><span class="hs-identifier hs-var">mkZipper</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ShowS
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; ShowS
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Char
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [[Char]]
</span><span class="hs-identifier hs-var">lines</span></span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span class="hs-comment">-- | Construct a zipper from vectors of characters.</span><span>
</span><span id="line-485"></span><span class="annot"><a href="Data.Text.Zipper.html#vectorZipper"><span class="hs-identifier hs-type">vectorZipper</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">V.Vector</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span class="hs-special">)</span><span>
</span><span id="line-486"></span><span id="vectorZipper"><span class="annot"><span class="annottext">vectorZipper :: [Vector Char] -&gt; Maybe Int -&gt; TextZipper (Vector Char)
</span><a href="Data.Text.Zipper.html#vectorZipper"><span class="hs-identifier hs-var hs-var">vectorZipper</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-487"></span><span>    </span><span class="annot"><span class="annottext">(Char -&gt; Vector Char)
-&gt; (Int -&gt; Vector Char -&gt; Vector Char)
-&gt; (Int -&gt; Vector Char -&gt; Vector Char)
-&gt; (Vector Char -&gt; Int)
-&gt; (Vector Char -&gt; Char)
-&gt; (Vector Char -&gt; Vector Char)
-&gt; (Vector Char -&gt; Bool)
-&gt; (Vector Char -&gt; [Vector Char])
-&gt; (Vector Char -&gt; [Char])
-&gt; [Vector Char]
-&gt; Maybe Int
-&gt; TextZipper (Vector Char)
forall a.
Monoid a =&gt;
(Char -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; Char)
-&gt; (a -&gt; a)
-&gt; (a -&gt; Bool)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; [Char])
-&gt; [a]
-&gt; Maybe Int
-&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#mkZipper"><span class="hs-identifier hs-var">mkZipper</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Vector Char
forall a. a -&gt; Vector a
</span><span class="hs-identifier hs-var">V.singleton</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Vector Char -&gt; Vector Char
forall a. Int -&gt; Vector a -&gt; Vector a
</span><span class="hs-identifier hs-var">V.drop</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Vector Char -&gt; Vector Char
forall a. Int -&gt; Vector a -&gt; Vector a
</span><span class="hs-identifier hs-var">V.take</span></span><span> </span><span class="annot"><span class="annottext">Vector Char -&gt; Int
forall a. Vector a -&gt; Int
</span><span class="hs-identifier hs-var">V.length</span></span><span> </span><span class="annot"><span class="annottext">Vector Char -&gt; Char
forall a. Vector a -&gt; a
</span><span class="hs-identifier hs-var">V.last</span></span><span> </span><span class="annot"><span class="annottext">Vector Char -&gt; Vector Char
forall a. Vector a -&gt; Vector a
</span><span class="hs-identifier hs-var">V.init</span></span><span> </span><span class="annot"><span class="annottext">Vector Char -&gt; Bool
forall a. Vector a -&gt; Bool
</span><span class="hs-identifier hs-var">V.null</span></span><span> </span><span class="annot"><span class="annottext">Vector Char -&gt; [Vector Char]
</span><a href="Data.Text.Zipper.Vector.html#vecLines"><span class="hs-identifier hs-var">V.vecLines</span></a></span><span> </span><span class="annot"><span class="annottext">Vector Char -&gt; [Char]
forall a. Vector a -&gt; [a]
</span><span class="hs-identifier hs-var">V.toList</span></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span class="hs-comment">-- | Empty a zipper.</span><span>
</span><span id="line-490"></span><span id="local-6989586621679056679"><span class="annot"><a href="Data.Text.Zipper.html#clearZipper"><span class="hs-identifier hs-type">clearZipper</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679056679"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056679"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679056679"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-491"></span><span id="clearZipper"><span class="annot"><span class="annottext">clearZipper :: TextZipper a -&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#clearZipper"><span class="hs-identifier hs-var hs-var">clearZipper</span></a></span></span><span> </span><span id="local-6989586621679056678"><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056678"><span class="hs-identifier hs-var">tz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-492"></span><span>    </span><span class="annot"><span class="annottext">TextZipper a
</span><a href="#local-6989586621679056678"><span class="hs-identifier hs-var">tz</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">toLeft :: a
</span><a href="Data.Text.Zipper.html#toLeft"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-493"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">toRight :: a
</span><a href="Data.Text.Zipper.html#toRight"><span class="hs-identifier hs-var">toRight</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-494"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">above :: [a]
</span><a href="Data.Text.Zipper.html#above"><span class="hs-identifier hs-var">above</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-495"></span><span>       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">below :: [a]
</span><a href="Data.Text.Zipper.html#below"><span class="hs-identifier hs-var">below</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-496"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span class="hs-comment">-- | Construct a zipper from 'T.Text' values.</span><span>
</span><span id="line-499"></span><span class="annot"><a href="Data.Text.Zipper.html#textZipper"><span class="hs-identifier hs-type">textZipper</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.Text.Zipper.html#TextZipper"><span class="hs-identifier hs-type">TextZipper</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span>
</span><span id="line-500"></span><span id="textZipper"><span class="annot"><span class="annottext">textZipper :: [Text] -&gt; Maybe Int -&gt; TextZipper Text
</span><a href="Data.Text.Zipper.html#textZipper"><span class="hs-identifier hs-var hs-var">textZipper</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-501"></span><span>    </span><span class="annot"><span class="annottext">(Char -&gt; Text)
-&gt; (Int -&gt; Text -&gt; Text)
-&gt; (Int -&gt; Text -&gt; Text)
-&gt; (Text -&gt; Int)
-&gt; (Text -&gt; Char)
-&gt; (Text -&gt; Text)
-&gt; (Text -&gt; Bool)
-&gt; (Text -&gt; [Text])
-&gt; (Text -&gt; [Char])
-&gt; [Text]
-&gt; Maybe Int
-&gt; TextZipper Text
forall a.
Monoid a =&gt;
(Char -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (Int -&gt; a -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; Char)
-&gt; (a -&gt; a)
-&gt; (a -&gt; Bool)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; [Char])
-&gt; [a]
-&gt; Maybe Int
-&gt; TextZipper a
</span><a href="Data.Text.Zipper.html#mkZipper"><span class="hs-identifier hs-var">mkZipper</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Text
</span><span class="hs-identifier hs-var">T.singleton</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">T.drop</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Text -&gt; Text
</span><span class="hs-identifier hs-var">T.take</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Int
</span><span class="hs-identifier hs-var">T.length</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Char
</span><span class="hs-identifier hs-var">T.last</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
</span><span class="hs-identifier hs-var">T.init</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><span class="hs-identifier hs-var">T.null</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text]
</span><span class="hs-identifier hs-var">T.lines</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Char]
</span><span class="hs-identifier hs-var">T.unpack</span></span><span>
</span><span id="line-502"></span></pre></body></html>